---
layout: post
title: "클린 아키텍쳐"
author: "Yongjun Cho"
tags: Clean Code
---

## 1장. 설계와 아키텍처란?
- 소프트 웨어 아키텍처의 목표 :   
필요한 시스템을 만들고 유지보수하는데 투입되는 인력을 최소화 하는 것
#### 1.1 사례 연구
- 개발자가 늘어날 수록, 단위시간당 인당 코드 라인 수는 줄어들었다.
- 코드 라인당 비용이 출시 이후 시간이 지남에 따라, 기하급수적으로 늘어난다.
- 생산성이 낮아지고, 비용은 높아지는 것
#### 1.2 Lesson Learned
- 토끼와 거북이의 이야기. 느려도 꾸준하면 이긴다.
- '코드는 나중에 정리해도 돼. 지금은 출시가 우선!' 이라는 거짓에 속아넘어가지 말자
- __'지저분한 코드를 작성하면 단기간에는 빠르게 갈 수 있고, 장기적으로 볼 때만 생산성이 낮아진다'__ 는 것은 거짓이다.   
TDD를 적용한 날이 더 빠르게 작업이 진행되었다는 결과도 있다.
#### 1.3 결론
- 끊임없이 SW 아키텍처의 품질을 고민하기 시작해야 한다.

<br>

## 2장. 두 가지 가치에 대한 이야기
- 모든 소프트 웨어 시스템은 __'행위'__ 와 __'구조'__ 의 가치를 제공해야 한다.
- 일반적으로 둘 중 한가지 가치에만 집중하는 경향이 있다.

#### 2.1 행위
- 요구사항을 만족하는 프로그램을 만드는 가치
- 대부분의 프로그래머가 이 __행위__ 자체를 자신의 일 전부라고 착각한다.

#### 2.2 아키텍처
- 이해관계자가 기능에 대한 생각을 바꾸었을 때, 변경사항을 간단하고 쉽게 적용할 수 있게 만드는 것.
- scope는 변할 수 있어도, 제품의 shape과는 관계가 없어야 한다.

#### 2.3 더 높은 가치
- 관리자는 기능이 돌아가는게 중요하지, 아키텍처는 부수적인 것이라고 말한다.
- Who is the Winner?   
완벽하게 동작하지만, 수정이 아예 불가능 vs. 동작을 못해도 변경이 쉬운 프로그램   
저자는 명백하게 __후자__ 라고 말하고 있음
- 중요한 가치에 힘을 실어 주자.
    - 아키텍처는 긴급하고 중요하거나 긴급하진 않으나 중요한 가치이다.
    - 행위는 긴급하고 중요하거나, 중요하진 않지만 긴급한 가치이다.
- 아키텍처를 위해 투쟁해야 한다. 아키텍처가 후순위가 되는 순간 시스템 개발 비용이 많아지고, 변경이 불가해진다.

<br>

## 3장. 패러다임 개요
#### 3.1 구조적 프로그래밍
- 최초로 적용된 패러다임
- 구조적 프로그래밍은 제어흐름의 직접적 전환에 규칙을 부과한다.

#### 3.2 객체지향 프로그래밍
- 클래스의 생성자 / 인스턴스 변수 / 메서드를 활용한다.
- 제어흐름의 간접적인 전환에 대해 규칙을 부과한다.

#### 3.3 함수형 프로그래밍
- 최근에 들어서야 겨우 도입되기 시작
- 람다 계산법!
- 함수형 프로그래밍은 할당문에 대해 규칙을 부과한다.

#### 3.4 생각할 거리
- 패러다임은 프로그래머에게서 마음대로 할 권한을 박탈하고, 규칙을 부과함.

<br>

## 4장. 구조적 프로그래밍
- 프로그램은 순차/분기/반복 세가지 구조로 표현할 수도 있다.
- 테스트는 버그가 있음을 보여줄 뿐, 버그가 없음을 보여줄 수는 없다.
- __구조적 프로그래밍은 프로그램을 증명 가능한 세부 기능 집합으로 재귀적 분해하고자 한다.__

<br>

## 5장. 객체 지향 프로그래밍
- 좋은 아키텍처의 출발
- 캡슐화 / 상속 / 다형성
- 다형성이 가진 힘: 모듈의 독립성을 유지할 수 있음
#### 5.1 의존성 역전 (Dependency inversion)
- 기존의 제어흐름은 main에서 하위 함수를 순차 호출하는 것   
따라서, 소스 코드 의존성이 제어흐름에 따라 결정되었음
- 다형성이 끼어들면서, 이 구조가 뒤바뀌기도 함! 런타임시에 다양한 녀석을 가지고 올 수 있게 된 것.

#### 5.4 결론
- 다형성을 이용하여 전체 시스템의 모든 소스코드 의존성에 대한 절댖3ㅓㄱ인 제어권한을 획득할 수 있는 능력이 필요하다.

<br>

## 6장. 함수형 프로그래밍
- 핵심 기반: 람다 계산법
- 함수형 언어에서, 변수는 변경되지 않는다.

#### 6.1 불변성과 아키텍처
- 경합조건, 교착상태, 동시 업데이트 문제가 가변 변수로 인해 발생하지만, 변수 변경이 없다면 일어나지 않는 문제.